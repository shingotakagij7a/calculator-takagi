# calculator

## requirements

- 基本的な算術演算（加算、減算、乗算、除算）を実行できること
- コマンドライン上からのユーザー入力を演算式として受け取ること
- 計算結果はコマンドライン上で表示すること
- 指定のオプションによる入力/表示方法の変更ができること

## conditions

- 使用可能な算術演算は加算（+）、減算（-）、乗算（\*）、除算（/）と、括弧（( と )）とすること。
- 各オペランドおよび計算結果は -10^9 から 10^9 の範囲しか許容しないこと。
- 演算式の入力はコマンドライン引数で文字列形式で受け取り、演算子とオペランドは空白で区切られたもののみを受け付けること(5 + 3 のような形式)。
- オプション --interactive を指定すると、インタラクティブモードで連続して演算を行えること。
- オプション --scale により、小数点以下の桁数を指定できること。デフォルトは 0 で、整数のみを扱う。

## 重要度高・テスト容易性高

- [x] evaluate

  - [x] 文字列の算術演算式の入力が適切な場合、その計算結果の数値を返す。

    - [x] "0" の入力に対し、0 を返す。
    - [x] "1 + 2" の入力に対し、3 を返す。
    - [x] "1 - 2" の入力に対し、-1 を返す。
    - [x] "1 - 2 \* 3" の入力に対し、-5 を返す。
    - [x] "(1 - 2) \* 3" の入力に対し、-3 を返す。
    - [x] "0.1 + 0.2" の入力に対し、0.3 を返す。
    - [x] "10 / 3" の入力に対し、3 を返す。

  - [x] 文字列の算術演算式の入力が不正な場合、例外を発生させる。

    - [x] 使用不可能な演算子が含まれている場合、例外を発生させる。

      - [x] "1 > 0" の入力に対し、`ValueError`を発生させる。

    - [x] 演算子で終わる場合、例外を発生させる。

      - [x] "+" の入力に対し、`ValueError`を発生させる。
      - [x] "1 +" の入力に対し、`ValueError`を発生させる。

    - [x] 演算子が連続して 2 つ続く場合、例外を発生させる。

      - [x] "1 + \* 2" の入力に対し、`ValueError`を発生させる。

    - [x] '('が片方だけの場合、例外を発生させる。

      - [x] "(1 + 2" の入力に対し、`ValueError`を発生させる。

    - [x] 入力のオペランドが範囲外の場合、例外を発生させる。
      - [x] 入力に 10^9 より大きい値が含まれている場合、`ValueError`を発生させる。
        - [x] "1 + 1000000001"(1_000_000_001) の入力に対し、`ValueError`を発生させる。
      - [x] 入力に -10^9 より小さい値が含まれている場合、`ValueError`を発生させる。
        - [x] "1 + -1000000001"(-1_000_000_001) の入力に対し、`ValueError`を発生させる。

  - [x] 出力の数値が不正な場合、例外を発生させる。

    - [x] 出力が 10^9 より大きい場合、`ValueError`を発生させる。
      - [x] "2 + 999999999"(合計で 1_000_000_001) の入力に対し、`ValueError`を発生させる。
    - [x] 出力が -10^9 より小さい場合、`ValueError`を発生させる。
      - [x] "-2 + -999999999"(合計で-1_000_000_001) の入力に対し、`ValueError`を発生させる。
